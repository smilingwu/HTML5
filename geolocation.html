<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>geolocation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="shortcut icon" href="" />
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!-- 使用html5垫片 -->
    <!--[if lt IE 9]>
    <script src="js/html5.js"></script>
    <![endif]-->
    <!-- <script src="http://cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script> -->
</head>
<body>

        <div class="container">

            <h1 id="results"></h1>

            <script>
            var results;

            window.onload = function(){
                results = document.getElementById('results');

                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        geolocationSuccess,geolocationFailure,{enableHighAccuracy:true,timeout:10000,maximumAge:60000}
                    );
                    results.innerHTML = "The search has begun.";
                }
                else {
                    results.innerHTML = "This browser doesn't support geolocation.";
                }
            };


            function geolocationSuccess(position){
                results.innerHTML = position.coords.latitude + "," + position.coords.longitude;
            }

            function geolocationFailure(positionError){
                if (positionError.code == 1) {
                    results.innerHTML =
                    "You decided not to share,but that's OK.We won't ask again.";
                }
                else if (positionError.code == 2){
                    results.innerHTML =
                    "The network is down or the positioning service can't be reached.";
                }
                else if (positionError.code == 3) {
                    results.innerHTML =
                    "The attempt timed out before it could get the location data.";
                }
                else {
                    results.innerHTML =
                    "This the mystery error.wo don't know what happened.";
                }
            }
            </script>

        </div>
</body>
</html>
